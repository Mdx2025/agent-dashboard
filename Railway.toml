# Railway.toml configuration for the frontend dashboard
# Fixed: Ensure $PORT is used correctly

[build]
builder = "NIXPACKS"

[build.env]
NODE_VERSION = "22"

[deploy]
# Build the project and then serve the static files using vite preview
# Using shell to ensure $PORT is expanded correctly
startCommand = "sh -c 'npm run build && npm run preview -- --host 0.0.0.0 --port $PORT'"
healthcheckPath = "/"
healthcheckTimeout = 100

[variables]
# The URL of the deployed backend. You must set this variable in Railway
# after you deploy both services.
# Format: https://<your-backend-service-name>.up.railway.app/api
VITE_API_BASE_URL = ""
